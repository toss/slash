/* eslint-disable */
//prettier-ignore
module.exports = {
name: "@yarnpkg/plugin-workspace-since",
factory: function (require) {
var plugin=(()=>{var Ln=Object.create;var oe=Object.defineProperty;var _n=Object.getOwnPropertyDescriptor;var Nn=Object.getOwnPropertyNames;var Mn=Object.getPrototypeOf,Bn=Object.prototype.hasOwnProperty;var h=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,n)=>(typeof require<"u"?require:t)[n]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var f=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Dn=(e,t)=>{for(var n in t)oe(e,n,{get:t[n],enumerable:!0})},ct=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Nn(t))!Bn.call(e,s)&&s!==n&&oe(e,s,{get:()=>t[s],enumerable:!(r=_n(t,s))||r.enumerable});return e};var O=(e,t,n)=>(n=e!=null?Ln(Mn(e)):{},ct(t||!e||!e.__esModule?oe(n,"default",{value:e,enumerable:!0}):n,e)),Wn=e=>ct(oe({},"__esModule",{value:!0}),e);var lt=f((po,ut)=>{ut.exports=function(e,t){for(var n=[],r=0;r<e.length;r++){var s=t(e[r],r);Un(s)?n.push.apply(n,s):n.push(s)}return n};var Un=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"}});var ht=f((mo,mt)=>{"use strict";mt.exports=ft;function ft(e,t,n){e instanceof RegExp&&(e=dt(e,n)),t instanceof RegExp&&(t=dt(t,n));var r=pt(e,t,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+e.length,r[1]),post:n.slice(r[1]+t.length)}}function dt(e,t){var n=t.match(e);return n?n[0]:null}ft.range=pt;function pt(e,t,n){var r,s,i,o,c,a=n.indexOf(e),u=n.indexOf(t,a+1),l=a;if(a>=0&&u>0){for(r=[],i=n.length;l>=0&&!c;)l==a?(r.push(l),a=n.indexOf(e,l+1)):r.length==1?c=[r.pop(),u]:(s=r.pop(),s<i&&(i=s,o=u),u=n.indexOf(t,l+1)),l=a<u&&a>=0?a:u;r.length&&(c=[i,o])}return c}});var Et=f((ho,bt)=>{var Fn=lt(),gt=ht();bt.exports=Kn;var vt="\0SLASH"+Math.random()+"\0",yt="\0OPEN"+Math.random()+"\0",Ie="\0CLOSE"+Math.random()+"\0",xt="\0COMMA"+Math.random()+"\0",St="\0PERIOD"+Math.random()+"\0";function Pe(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function Hn(e){return e.split("\\\\").join(vt).split("\\{").join(yt).split("\\}").join(Ie).split("\\,").join(xt).split("\\.").join(St)}function zn(e){return e.split(vt).join("\\").split(yt).join("{").split(Ie).join("}").split(xt).join(",").split(St).join(".")}function wt(e){if(!e)return[""];var t=[],n=gt("{","}",e);if(!n)return e.split(",");var r=n.pre,s=n.body,i=n.post,o=r.split(",");o[o.length-1]+="{"+s+"}";var c=wt(i);return i.length&&(o[o.length-1]+=c.shift(),o.push.apply(o,c)),t.push.apply(t,o),t}function Kn(e){return e?(e.substr(0,2)==="{}"&&(e="\\{\\}"+e.substr(2)),L(Hn(e),!0).map(zn)):[]}function Vn(e){return"{"+e+"}"}function Xn(e){return/^-?0\d/.test(e)}function Jn(e,t){return e<=t}function Zn(e,t){return e>=t}function L(e,t){var n=[],r=gt("{","}",e);if(!r||/\$$/.test(r.pre))return[e];var s=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(r.body),i=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(r.body),o=s||i,c=r.body.indexOf(",")>=0;if(!o&&!c)return r.post.match(/,.*\}/)?(e=r.pre+"{"+r.body+Ie+r.post,L(e)):[e];var a;if(o)a=r.body.split(/\.\./);else if(a=wt(r.body),a.length===1&&(a=L(a[0],!1).map(Vn),a.length===1)){var l=r.post.length?L(r.post,!1):[""];return l.map(function(be){return r.pre+a[0]+be})}var u=r.pre,l=r.post.length?L(r.post,!1):[""],d;if(o){var p=Pe(a[0]),g=Pe(a[1]),m=Math.max(a[0].length,a[1].length),v=a.length==3?Math.abs(Pe(a[2])):1,E=Jn,y=g<p;y&&(v*=-1,E=Zn);var x=a.some(Xn);d=[];for(var k=p;E(k,g);k+=v){var S;if(i)S=String.fromCharCode(k),S==="\\"&&(S="");else if(S=String(k),x){var I=m-S.length;if(I>0){var R=new Array(I+1).join("0");k<0?S="-"+R+S.slice(1):S=R+S}}d.push(S)}}else d=Fn(a,function(ie){return L(ie,!1)});for(var $=0;$<d.length;$++)for(var q=0;q<l.length;q++){var G=u+d[$]+l[q];(!t||o||G)&&n.push(G)}return n}});var ce=f((go,Ot)=>{Ot.exports=C;C.Minimatch=w;var z={sep:"/"};try{z=h("path")}catch{}var Ae=C.GLOBSTAR=w.GLOBSTAR={},Yn=Et(),kt={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},Te="[^/]",Oe=Te+"*?",Qn="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",es="(?:(?!(?:\\/|^)\\.).)*?",Ct=ts("().*{}+?[]^$\\!");function ts(e){return e.split("").reduce(function(t,n){return t[n]=!0,t},{})}var It=/\/+/;C.filter=rs;function rs(e,t){return t=t||{},function(n,r,s){return C(n,e,t)}}function Pt(e,t){e=e||{},t=t||{};var n={};return Object.keys(t).forEach(function(r){n[r]=t[r]}),Object.keys(e).forEach(function(r){n[r]=e[r]}),n}C.defaults=function(e){if(!e||!Object.keys(e).length)return C;var t=C,n=function(s,i,o){return t.minimatch(s,i,Pt(e,o))};return n.Minimatch=function(s,i){return new t.Minimatch(s,Pt(e,i))},n};w.defaults=function(e){return!e||!Object.keys(e).length?w:C.defaults(e).Minimatch};function C(e,t,n){if(typeof t!="string")throw new TypeError("glob pattern string required");return n||(n={}),!n.nocomment&&t.charAt(0)==="#"?!1:t.trim()===""?e==="":new w(t,n).match(e)}function w(e,t){if(!(this instanceof w))return new w(e,t);if(typeof e!="string")throw new TypeError("glob pattern string required");t||(t={}),e=e.trim(),z.sep!=="/"&&(e=e.split(z.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}w.prototype.debug=function(){};w.prototype.make=ns;function ns(){if(!this._made){var e=this.pattern,t=this.options;if(!t.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate();var n=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error),this.debug(this.pattern,n),n=this.globParts=n.map(function(r){return r.split(It)}),this.debug(this.pattern,n),n=n.map(function(r,s,i){return r.map(this.parse,this)},this),this.debug(this.pattern,n),n=n.filter(function(r){return r.indexOf(!1)===-1}),this.debug(this.pattern,n),this.set=n}}w.prototype.parseNegate=ss;function ss(){var e=this.pattern,t=!1,n=this.options,r=0;if(!n.nonegate){for(var s=0,i=e.length;s<i&&e.charAt(s)==="!";s++)t=!t,r++;r&&(this.pattern=e.substr(r)),this.negate=t}}C.braceExpand=function(e,t){return Tt(e,t)};w.prototype.braceExpand=Tt;function Tt(e,t){if(t||(this instanceof w?t=this.options:t={}),e=typeof e>"u"?this.pattern:e,typeof e>"u")throw new TypeError("undefined pattern");return t.nobrace||!e.match(/\{.*\}/)?[e]:Yn(e)}w.prototype.parse=is;var ae={};function is(e,t){if(e.length>1024*64)throw new TypeError("pattern is too long");var n=this.options;if(!n.noglobstar&&e==="**")return Ae;if(e==="")return"";var r="",s=!!n.nocase,i=!1,o=[],c=[],a,u=!1,l=-1,d=-1,p=e.charAt(0)==="."?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",g=this;function m(){if(a){switch(a){case"*":r+=Oe,s=!0;break;case"?":r+=Te,s=!0;break;default:r+="\\"+a;break}g.debug("clearStateChar %j %j",a,r),a=!1}}for(var v=0,E=e.length,y;v<E&&(y=e.charAt(v));v++){if(this.debug("%s	%s %s %j",e,v,r,y),i&&Ct[y]){r+="\\"+y,i=!1;continue}switch(y){case"/":return!1;case"\\":m(),i=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",e,v,r,y),u){this.debug("  in class"),y==="!"&&v===d+1&&(y="^"),r+=y;continue}g.debug("call clearStateChar %j",a),m(),a=y,n.noext&&m();continue;case"(":if(u){r+="(";continue}if(!a){r+="\\(";continue}o.push({type:a,start:v-1,reStart:r.length,open:kt[a].open,close:kt[a].close}),r+=a==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",a,r),a=!1;continue;case")":if(u||!o.length){r+="\\)";continue}m(),s=!0;var x=o.pop();r+=x.close,x.type==="!"&&c.push(x),x.reEnd=r.length;continue;case"|":if(u||!o.length||i){r+="\\|",i=!1;continue}m(),r+="|";continue;case"[":if(m(),u){r+="\\"+y;continue}u=!0,d=v,l=r.length,r+=y;continue;case"]":if(v===d+1||!u){r+="\\"+y,i=!1;continue}if(u){var k=e.substring(d+1,v);try{RegExp("["+k+"]")}catch{var S=this.parse(k,ae);r=r.substr(0,l)+"\\["+S[0]+"\\]",s=s||S[1],u=!1;continue}}s=!0,u=!1,r+=y;continue;default:m(),i?i=!1:Ct[y]&&!(y==="^"&&u)&&(r+="\\"),r+=y}}for(u&&(k=e.substr(d+1),S=this.parse(k,ae),r=r.substr(0,l)+"\\["+S[0],s=s||S[1]),x=o.pop();x;x=o.pop()){var I=r.slice(x.reStart+x.open.length);this.debug("setting tail",r,x),I=I.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(ot,at,Ce){return Ce||(Ce="\\"),at+at+Ce+"|"}),this.debug(`tail=%j
   %s`,I,I,x,r);var R=x.type==="*"?Oe:x.type==="?"?Te:"\\"+x.type;s=!0,r=r.slice(0,x.reStart)+R+"\\("+I}m(),i&&(r+="\\\\");var $=!1;switch(r.charAt(0)){case".":case"[":case"(":$=!0}for(var q=c.length-1;q>-1;q--){var G=c[q],ie=r.slice(0,G.reStart),be=r.slice(G.reStart,G.reEnd-8),st=r.slice(G.reEnd-8,G.reEnd),H=r.slice(G.reEnd);st+=H;var qn=ie.split("(").length-1,Ee=H;for(v=0;v<qn;v++)Ee=Ee.replace(/\)[+*?]?/,"");H=Ee;var it="";H===""&&t!==ae&&(it="$");var jn=ie+be+H+it+st;r=jn}if(r!==""&&s&&(r="(?=.)"+r),$&&(r=p+r),t===ae)return[r,s];if(!s)return cs(e);var $n=n.nocase?"i":"";try{var ke=new RegExp("^"+r+"$",$n)}catch{return new RegExp("$.")}return ke._glob=e,ke._src=r,ke}C.makeRe=function(e,t){return new w(e,t||{}).makeRe()};w.prototype.makeRe=os;function os(){if(this.regexp||this.regexp===!1)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,n=t.noglobstar?Oe:t.dot?Qn:es,r=t.nocase?"i":"",s=e.map(function(i){return i.map(function(o){return o===Ae?n:typeof o=="string"?us(o):o._src}).join("\\/")}).join("|");s="^(?:"+s+")$",this.negate&&(s="^(?!"+s+").*$");try{this.regexp=new RegExp(s,r)}catch{this.regexp=!1}return this.regexp}C.match=function(e,t,n){n=n||{};var r=new w(t,n);return e=e.filter(function(s){return r.match(s)}),r.options.nonull&&!e.length&&e.push(t),e};w.prototype.match=as;function as(e,t){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&t)return!0;var n=this.options;z.sep!=="/"&&(e=e.split(z.sep).join("/")),e=e.split(It),this.debug(this.pattern,"split",e);var r=this.set;this.debug(this.pattern,"set",r);var s,i;for(i=e.length-1;i>=0&&(s=e[i],!s);i--);for(i=0;i<r.length;i++){var o=r[i],c=e;n.matchBase&&o.length===1&&(c=[s]);var a=this.matchOne(c,o,t);if(a)return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}w.prototype.matchOne=function(e,t,n){var r=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var s=0,i=0,o=e.length,c=t.length;s<o&&i<c;s++,i++){this.debug("matchOne loop");var a=t[i],u=e[s];if(this.debug(t,a,u),a===!1)return!1;if(a===Ae){this.debug("GLOBSTAR",[t,a,u]);var l=s,d=i+1;if(d===c){for(this.debug("** at the end");s<o;s++)if(e[s]==="."||e[s]===".."||!r.dot&&e[s].charAt(0)===".")return!1;return!0}for(;l<o;){var p=e[l];if(this.debug(`
globstar while`,e,l,t,d,p),this.matchOne(e.slice(l),t.slice(d),n))return this.debug("globstar found match!",l,o,p),!0;if(p==="."||p===".."||!r.dot&&p.charAt(0)==="."){this.debug("dot detected!",e,l,t,d);break}this.debug("globstar swallow a segment, and continue"),l++}return!!(n&&(this.debug(`
>>> no match, partial?`,e,l,t,d),l===o))}var g;if(typeof a=="string"?(r.nocase?g=u.toLowerCase()===a.toLowerCase():g=u===a,this.debug("string match",a,u,g)):(g=u.match(a),this.debug("pattern match",a,u,g)),!g)return!1}if(s===o&&i===c)return!0;if(s===o)return n;if(i===c){var m=s===o-1&&e[s]==="";return m}throw new Error("wtf?")};function cs(e){return e.replace(/\\(.)/g,"$1")}function us(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var jt=f((xo,qt)=>{qt.exports=Rt;Rt.sync=fs;var At=h("fs");function ds(e,t){var n=t.pathExt!==void 0?t.pathExt:process.env.PATHEXT;if(!n||(n=n.split(";"),n.indexOf("")!==-1))return!0;for(var r=0;r<n.length;r++){var s=n[r].toLowerCase();if(s&&e.substr(-s.length).toLowerCase()===s)return!0}return!1}function Gt(e,t,n){return!e.isSymbolicLink()&&!e.isFile()?!1:ds(t,n)}function Rt(e,t,n){At.stat(e,function(r,s){n(r,r?!1:Gt(s,e,t))})}function fs(e,t){return Gt(At.statSync(e),e,t)}});var Mt=f((So,Nt)=>{Nt.exports=Lt;Lt.sync=ps;var $t=h("fs");function Lt(e,t,n){$t.stat(e,function(r,s){n(r,r?!1:_t(s,t))})}function ps(e,t){return _t($t.statSync(e),t)}function _t(e,t){return e.isFile()&&ms(e,t)}function ms(e,t){var n=e.mode,r=e.uid,s=e.gid,i=t.uid!==void 0?t.uid:process.getuid&&process.getuid(),o=t.gid!==void 0?t.gid:process.getgid&&process.getgid(),c=parseInt("100",8),a=parseInt("010",8),u=parseInt("001",8),l=c|a,d=n&u||n&a&&s===o||n&c&&r===i||n&l&&i===0;return d}});var Dt=f((bo,Bt)=>{var wo=h("fs"),ue;process.platform==="win32"||global.TESTING_WINDOWS?ue=jt():ue=Mt();Bt.exports=qe;qe.sync=hs;function qe(e,t,n){if(typeof t=="function"&&(n=t,t={}),!n){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(r,s){qe(e,t||{},function(i,o){i?s(i):r(o)})})}ue(e,t||{},function(r,s){r&&(r.code==="EACCES"||t&&t.ignoreErrors)&&(r=null,s=!1),n(r,s)})}function hs(e,t){try{return ue.sync(e,t||{})}catch(n){if(t&&t.ignoreErrors||n.code==="EACCES")return!1;throw n}}});var Vt=f((Eo,Kt)=>{var _=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",Wt=h("path"),gs=_?";":":",Ut=Dt(),Ft=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),Ht=(e,t)=>{let n=t.colon||gs,r=e.match(/\//)||_&&e.match(/\\/)?[""]:[..._?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(n)],s=_?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",i=_?s.split(n):[""];return _&&e.indexOf(".")!==-1&&i[0]!==""&&i.unshift(""),{pathEnv:r,pathExt:i,pathExtExe:s}},zt=(e,t,n)=>{typeof t=="function"&&(n=t,t={}),t||(t={});let{pathEnv:r,pathExt:s,pathExtExe:i}=Ht(e,t),o=[],c=u=>new Promise((l,d)=>{if(u===r.length)return t.all&&o.length?l(o):d(Ft(e));let p=r[u],g=/^".*"$/.test(p)?p.slice(1,-1):p,m=Wt.join(g,e),v=!g&&/^\.[\\\/]/.test(e)?e.slice(0,2)+m:m;l(a(v,u,0))}),a=(u,l,d)=>new Promise((p,g)=>{if(d===s.length)return p(c(l+1));let m=s[d];Ut(u+m,{pathExt:i},(v,E)=>{if(!v&&E)if(t.all)o.push(u+m);else return p(u+m);return p(a(u,l,d+1))})});return n?c(0).then(u=>n(null,u),n):c(0)},vs=(e,t)=>{t=t||{};let{pathEnv:n,pathExt:r,pathExtExe:s}=Ht(e,t),i=[];for(let o=0;o<n.length;o++){let c=n[o],a=/^".*"$/.test(c)?c.slice(1,-1):c,u=Wt.join(a,e),l=!a&&/^\.[\\\/]/.test(e)?e.slice(0,2)+u:u;for(let d=0;d<r.length;d++){let p=l+r[d];try{if(Ut.sync(p,{pathExt:s}))if(t.all)i.push(p);else return p}catch{}}}if(t.all&&i.length)return i;if(t.nothrow)return null;throw Ft(e)};Kt.exports=zt;zt.sync=vs});var $e=f((ko,je)=>{"use strict";var Xt=(e={})=>{let t=e.env||process.env;return(e.platform||process.platform)!=="win32"?"PATH":Object.keys(t).reverse().find(r=>r.toUpperCase()==="PATH")||"Path"};je.exports=Xt;je.exports.default=Xt});var Qt=f((Co,Yt)=>{"use strict";var Jt=h("path"),ys=Vt(),xs=$e();function Zt(e,t){let n=e.options.env||process.env,r=process.cwd(),s=e.options.cwd!=null,i=s&&process.chdir!==void 0&&!process.chdir.disabled;if(i)try{process.chdir(e.options.cwd)}catch{}let o;try{o=ys.sync(e.command,{path:n[xs({env:n})],pathExt:t?Jt.delimiter:void 0})}catch{}finally{i&&process.chdir(r)}return o&&(o=Jt.resolve(s?e.options.cwd:"",o)),o}function Ss(e){return Zt(e)||Zt(e,!0)}Yt.exports=Ss});var er=f((Po,_e)=>{"use strict";var Le=/([()\][%!^"`<>&|;, *?])/g;function ws(e){return e=e.replace(Le,"^$1"),e}function bs(e,t){return e=`${e}`,e=e.replace(/(\\*)"/g,'$1$1\\"'),e=e.replace(/(\\*)$/,"$1$1"),e=`"${e}"`,e=e.replace(Le,"^$1"),t&&(e=e.replace(Le,"^$1")),e}_e.exports.command=ws;_e.exports.argument=bs});var rr=f((Io,tr)=>{"use strict";tr.exports=/^#!(.*)/});var sr=f((To,nr)=>{"use strict";var Es=rr();nr.exports=(e="")=>{let t=e.match(Es);if(!t)return null;let[n,r]=t[0].replace(/#! ?/,"").split(" "),s=n.split("/").pop();return s==="env"?r:r?`${s} ${r}`:s}});var or=f((Oo,ir)=>{"use strict";var Ne=h("fs"),ks=sr();function Cs(e){let n=Buffer.alloc(150),r;try{r=Ne.openSync(e,"r"),Ne.readSync(r,n,0,150,0),Ne.closeSync(r)}catch{}return ks(n.toString())}ir.exports=Cs});var lr=f((Ao,ur)=>{"use strict";var Ps=h("path"),ar=Qt(),cr=er(),Is=or(),Ts=process.platform==="win32",Os=/\.(?:com|exe)$/i,As=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function Gs(e){e.file=ar(e);let t=e.file&&Is(e.file);return t?(e.args.unshift(e.file),e.command=t,ar(e)):e.file}function Rs(e){if(!Ts)return e;let t=Gs(e),n=!Os.test(t);if(e.options.forceShell||n){let r=As.test(t);e.command=Ps.normalize(e.command),e.command=cr.command(e.command),e.args=e.args.map(i=>cr.argument(i,r));let s=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${s}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}function qs(e,t,n){t&&!Array.isArray(t)&&(n=t,t=null),t=t?t.slice(0):[],n=Object.assign({},n);let r={command:e,args:t,options:n,file:void 0,original:{command:e,args:t}};return n.shell?r:Rs(r)}ur.exports=qs});var pr=f((Go,fr)=>{"use strict";var Me=process.platform==="win32";function Be(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function js(e,t){if(!Me)return;let n=e.emit;e.emit=function(r,s){if(r==="exit"){let i=dr(s,t,"spawn");if(i)return n.call(e,"error",i)}return n.apply(e,arguments)}}function dr(e,t){return Me&&e===1&&!t.file?Be(t.original,"spawn"):null}function $s(e,t){return Me&&e===1&&!t.file?Be(t.original,"spawnSync"):null}fr.exports={hookChildProcess:js,verifyENOENT:dr,verifyENOENTSync:$s,notFoundError:Be}});var gr=f((Ro,N)=>{"use strict";var mr=h("child_process"),De=lr(),We=pr();function hr(e,t,n){let r=De(e,t,n),s=mr.spawn(r.command,r.args,r.options);return We.hookChildProcess(s,r),s}function Ls(e,t,n){let r=De(e,t,n),s=mr.spawnSync(r.command,r.args,r.options);return s.error=s.error||We.verifyENOENTSync(s.status,r),s}N.exports=hr;N.exports.spawn=hr;N.exports.sync=Ls;N.exports._parse=De;N.exports._enoent=We});var yr=f((qo,vr)=>{"use strict";vr.exports=e=>{let t=typeof e=="string"?`
`:`
`.charCodeAt(),n=typeof e=="string"?"\r":"\r".charCodeAt();return e[e.length-1]===t&&(e=e.slice(0,e.length-1)),e[e.length-1]===n&&(e=e.slice(0,e.length-1)),e}});var wr=f((jo,V)=>{"use strict";var K=h("path"),xr=$e(),Sr=e=>{e={cwd:process.cwd(),path:process.env[xr()],execPath:process.execPath,...e};let t,n=K.resolve(e.cwd),r=[];for(;t!==n;)r.push(K.join(n,"node_modules/.bin")),t=n,n=K.resolve(n,"..");let s=K.resolve(e.cwd,e.execPath,"..");return r.push(s),r.concat(e.path).join(K.delimiter)};V.exports=Sr;V.exports.default=Sr;V.exports.env=e=>{e={env:process.env,...e};let t={...e.env},n=xr({env:t});return e.path=t[n],t[n]=V.exports(e),t}});var Er=f(($o,Ue)=>{"use strict";var br=(e,t)=>{for(let n of Reflect.ownKeys(t))Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n));return e};Ue.exports=br;Ue.exports.default=br});var Cr=f((Lo,de)=>{"use strict";var _s=Er(),le=new WeakMap,kr=(e,t={})=>{if(typeof e!="function")throw new TypeError("Expected a function");let n,r=0,s=e.displayName||e.name||"<anonymous>",i=function(...o){if(le.set(i,++r),r===1)n=e.apply(this,o),e=null;else if(t.throw===!0)throw new Error(`Function \`${s}\` can only be called once`);return n};return _s(i,e),le.set(i,r),i};de.exports=kr;de.exports.default=kr;de.exports.callCount=e=>{if(!le.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return le.get(e)}});var Pr=f(fe=>{"use strict";Object.defineProperty(fe,"__esModule",{value:!0});fe.SIGNALS=void 0;var Ns=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];fe.SIGNALS=Ns});var Fe=f(M=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0});M.SIGRTMAX=M.getRealtimeSignals=void 0;var Ms=function(){let e=Tr-Ir+1;return Array.from({length:e},Bs)};M.getRealtimeSignals=Ms;var Bs=function(e,t){return{name:`SIGRT${t+1}`,number:Ir+t,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},Ir=34,Tr=64;M.SIGRTMAX=Tr});var Or=f(pe=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});pe.getSignals=void 0;var Ds=h("os"),Ws=Pr(),Us=Fe(),Fs=function(){let e=(0,Us.getRealtimeSignals)();return[...Ws.SIGNALS,...e].map(Hs)};pe.getSignals=Fs;var Hs=function({name:e,number:t,description:n,action:r,forced:s=!1,standard:i}){let{signals:{[e]:o}}=Ds.constants,c=o!==void 0;return{name:e,number:c?o:t,description:n,supported:c,action:r,forced:s,standard:i}}});var Gr=f(B=>{"use strict";Object.defineProperty(B,"__esModule",{value:!0});B.signalsByNumber=B.signalsByName=void 0;var zs=h("os"),Ar=Or(),Ks=Fe(),Vs=function(){return(0,Ar.getSignals)().reduce(Xs,{})},Xs=function(e,{name:t,number:n,description:r,supported:s,action:i,forced:o,standard:c}){return{...e,[t]:{name:t,number:n,description:r,supported:s,action:i,forced:o,standard:c}}},Js=Vs();B.signalsByName=Js;var Zs=function(){let e=(0,Ar.getSignals)(),t=Ks.SIGRTMAX+1,n=Array.from({length:t},(r,s)=>Ys(s,e));return Object.assign({},...n)},Ys=function(e,t){let n=Qs(e,t);if(n===void 0)return{};let{name:r,description:s,supported:i,action:o,forced:c,standard:a}=n;return{[e]:{name:r,number:e,description:s,supported:i,action:o,forced:c,standard:a}}},Qs=function(e,t){let n=t.find(({name:r})=>zs.constants.signals[r]===e);return n!==void 0?n:t.find(r=>r.number===e)},ei=Zs();B.signalsByNumber=ei});var qr=f((Do,Rr)=>{"use strict";var{signalsByName:ti}=Gr(),ri=({timedOut:e,timeout:t,errorCode:n,signal:r,signalDescription:s,exitCode:i,isCanceled:o})=>e?`timed out after ${t} milliseconds`:o?"was canceled":n!==void 0?`failed with ${n}`:r!==void 0?`was killed with ${r} (${s})`:i!==void 0?`failed with exit code ${i}`:"failed",ni=({stdout:e,stderr:t,all:n,error:r,signal:s,exitCode:i,command:o,timedOut:c,isCanceled:a,killed:u,parsed:{options:{timeout:l}}})=>{i=i===null?void 0:i,s=s===null?void 0:s;let d=s===void 0?void 0:ti[s].description,p=r&&r.code,m=`Command ${ri({timedOut:c,timeout:l,errorCode:p,signal:s,signalDescription:d,exitCode:i,isCanceled:a})}: ${o}`,v=Object.prototype.toString.call(r)==="[object Error]",E=v?`${m}
${r.message}`:m,y=[E,t,e].filter(Boolean).join(`
`);return v?(r.originalMessage=r.message,r.message=y):r=new Error(y),r.shortMessage=E,r.command=o,r.exitCode=i,r.signal=s,r.signalDescription=d,r.stdout=e,r.stderr=t,n!==void 0&&(r.all=n),"bufferedData"in r&&delete r.bufferedData,r.failed=!0,r.timedOut=Boolean(c),r.isCanceled=a,r.killed=u&&!c,r};Rr.exports=ni});var $r=f((Wo,He)=>{"use strict";var me=["stdin","stdout","stderr"],si=e=>me.some(t=>e[t]!==void 0),jr=e=>{if(!e)return;let{stdio:t}=e;if(t===void 0)return me.map(r=>e[r]);if(si(e))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${me.map(r=>`\`${r}\``).join(", ")}`);if(typeof t=="string")return t;if(!Array.isArray(t))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof t}\``);let n=Math.max(t.length,me.length);return Array.from({length:n},(r,s)=>t[s])};He.exports=jr;He.exports.node=e=>{let t=jr(e);return t==="ipc"?"ipc":t===void 0||typeof t=="string"?[t,t,t,"ipc"]:t.includes("ipc")?t:[...t,"ipc"]}});var Lr=f((Uo,he)=>{he.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&he.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&he.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var Mr=f((Fo,Z)=>{var ii=h("assert"),X=Lr(),oi=/^win/i.test(process.platform),ge=h("events");typeof ge!="function"&&(ge=ge.EventEmitter);var b;process.__signal_exit_emitter__?b=process.__signal_exit_emitter__:(b=process.__signal_exit_emitter__=new ge,b.count=0,b.emitted={});b.infinite||(b.setMaxListeners(1/0),b.infinite=!0);Z.exports=function(e,t){ii.equal(typeof e,"function","a callback must be provided for exit handler"),J===!1&&_r();var n="exit";t&&t.alwaysLast&&(n="afterexit");var r=function(){b.removeListener(n,e),b.listeners("exit").length===0&&b.listeners("afterexit").length===0&&Ke()};return b.on(n,e),r};Z.exports.unload=Ke;function Ke(){!J||(J=!1,X.forEach(function(e){try{process.removeListener(e,Ve[e])}catch{}}),process.emit=ze,process.reallyExit=Nr,b.count-=1)}function D(e,t,n){b.emitted[e]||(b.emitted[e]=!0,b.emit(e,t,n))}var Ve={};X.forEach(function(e){Ve[e]=function(){var n=process.listeners(e);n.length===b.count&&(Ke(),D("exit",null,e),D("afterexit",null,e),oi&&e==="SIGHUP"&&(e="SIGINT"),process.kill(process.pid,e))}});Z.exports.signals=function(){return X};Z.exports.load=_r;var J=!1;function _r(){J||(J=!0,b.count+=1,X=X.filter(function(e){try{return process.on(e,Ve[e]),!0}catch{return!1}}),process.emit=ci,process.reallyExit=ai)}var Nr=process.reallyExit;function ai(e){process.exitCode=e||0,D("exit",process.exitCode,null),D("afterexit",process.exitCode,null),Nr.call(process,process.exitCode)}var ze=process.emit;function ci(e,t){if(e==="exit"){t!==void 0&&(process.exitCode=t);var n=ze.apply(this,arguments);return D("exit",process.exitCode,null),D("afterexit",process.exitCode,null),n}else return ze.apply(this,arguments)}});var Dr=f((Ho,Br)=>{"use strict";var ui=h("os"),li=Mr(),di=1e3*5,fi=(e,t="SIGTERM",n={})=>{let r=e(t);return pi(e,t,n,r),r},pi=(e,t,n,r)=>{if(!mi(t,n,r))return;let s=gi(n),i=setTimeout(()=>{e("SIGKILL")},s);i.unref&&i.unref()},mi=(e,{forceKillAfterTimeout:t},n)=>hi(e)&&t!==!1&&n,hi=e=>e===ui.constants.signals.SIGTERM||typeof e=="string"&&e.toUpperCase()==="SIGTERM",gi=({forceKillAfterTimeout:e=!0})=>{if(e===!0)return di;if(!Number.isFinite(e)||e<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`);return e},vi=(e,t)=>{e.kill()&&(t.isCanceled=!0)},yi=(e,t,n)=>{e.kill(t),n(Object.assign(new Error("Timed out"),{timedOut:!0,signal:t}))},xi=(e,{timeout:t,killSignal:n="SIGTERM"},r)=>{if(t===0||t===void 0)return r;if(!Number.isFinite(t)||t<0)throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`);let s,i=new Promise((c,a)=>{s=setTimeout(()=>{yi(e,n,a)},t)}),o=r.finally(()=>{clearTimeout(s)});return Promise.race([i,o])},Si=async(e,{cleanup:t,detached:n},r)=>{if(!t||n)return r;let s=li(()=>{e.kill()});return r.finally(()=>{s()})};Br.exports={spawnedKill:fi,spawnedCancel:vi,setupTimeout:xi,setExitHandler:Si}});var Ur=f((zo,Wr)=>{"use strict";var A=e=>e!==null&&typeof e=="object"&&typeof e.pipe=="function";A.writable=e=>A(e)&&e.writable!==!1&&typeof e._write=="function"&&typeof e._writableState=="object";A.readable=e=>A(e)&&e.readable!==!1&&typeof e._read=="function"&&typeof e._readableState=="object";A.duplex=e=>A.writable(e)&&A.readable(e);A.transform=e=>A.duplex(e)&&typeof e._transform=="function"&&typeof e._transformState=="object";Wr.exports=A});var Hr=f((Ko,Fr)=>{"use strict";var{PassThrough:wi}=h("stream");Fr.exports=e=>{e={...e};let{array:t}=e,{encoding:n}=e,r=n==="buffer",s=!1;t?s=!(n||r):n=n||"utf8",r&&(n=null);let i=new wi({objectMode:s});n&&i.setEncoding(n);let o=0,c=[];return i.on("data",a=>{c.push(a),s?o=c.length:o+=a.length}),i.getBufferedValue=()=>t?c:r?Buffer.concat(c,o):c.join(""),i.getBufferedLength=()=>o,i}});var zr=f((Vo,Y)=>{"use strict";var{constants:bi}=h("buffer"),Ei=h("stream"),{promisify:ki}=h("util"),Ci=Hr(),Pi=ki(Ei.pipeline),ve=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function Xe(e,t){if(!e)throw new Error("Expected a stream");t={maxBuffer:1/0,...t};let{maxBuffer:n}=t,r=Ci(t);return await new Promise((s,i)=>{let o=c=>{c&&r.getBufferedLength()<=bi.MAX_LENGTH&&(c.bufferedData=r.getBufferedValue()),i(c)};(async()=>{try{await Pi(e,r),s()}catch(c){o(c)}})(),r.on("data",()=>{r.getBufferedLength()>n&&o(new ve)})}),r.getBufferedValue()}Y.exports=Xe;Y.exports.buffer=(e,t)=>Xe(e,{...t,encoding:"buffer"});Y.exports.array=(e,t)=>Xe(e,{...t,array:!0});Y.exports.MaxBufferError=ve});var Vr=f((Xo,Kr)=>{"use strict";var{PassThrough:Ii}=h("stream");Kr.exports=function(){var e=[],t=new Ii({objectMode:!0});return t.setMaxListeners(0),t.add=n,t.isEmpty=r,t.on("unpipe",s),Array.prototype.slice.call(arguments).forEach(n),t;function n(i){return Array.isArray(i)?(i.forEach(n),this):(e.push(i),i.once("end",s.bind(null,i)),i.once("error",t.emit.bind(t,"error")),i.pipe(t,{end:!1}),this)}function r(){return e.length==0}function s(i){e=e.filter(function(o){return o!==i}),!e.length&&t.readable&&t.end()}}});var Yr=f((Jo,Zr)=>{"use strict";var Jr=Ur(),Xr=zr(),Ti=Vr(),Oi=(e,t)=>{t===void 0||e.stdin===void 0||(Jr(t)?t.pipe(e.stdin):e.stdin.end(t))},Ai=(e,{all:t})=>{if(!t||!e.stdout&&!e.stderr)return;let n=Ti();return e.stdout&&n.add(e.stdout),e.stderr&&n.add(e.stderr),n},Je=async(e,t)=>{if(!!e){e.destroy();try{return await t}catch(n){return n.bufferedData}}},Ze=(e,{encoding:t,buffer:n,maxBuffer:r})=>{if(!(!e||!n))return t?Xr(e,{encoding:t,maxBuffer:r}):Xr.buffer(e,{maxBuffer:r})},Gi=async({stdout:e,stderr:t,all:n},{encoding:r,buffer:s,maxBuffer:i},o)=>{let c=Ze(e,{encoding:r,buffer:s,maxBuffer:i}),a=Ze(t,{encoding:r,buffer:s,maxBuffer:i}),u=Ze(n,{encoding:r,buffer:s,maxBuffer:i*2});try{return await Promise.all([o,c,a,u])}catch(l){return Promise.all([{error:l,signal:l.signal,timedOut:l.timedOut},Je(e,c),Je(t,a),Je(n,u)])}},Ri=({input:e})=>{if(Jr(e))throw new TypeError("The `input` option cannot be a stream in sync mode")};Zr.exports={handleInput:Oi,makeAllStream:Ai,getSpawnedResult:Gi,validateInputSync:Ri}});var en=f((Zo,Qr)=>{"use strict";var qi=(async()=>{})().constructor.prototype,ji=["then","catch","finally"].map(e=>[e,Reflect.getOwnPropertyDescriptor(qi,e)]),$i=(e,t)=>{for(let[n,r]of ji){let s=typeof t=="function"?(...i)=>Reflect.apply(r.value,t(),i):r.value.bind(t);Reflect.defineProperty(e,n,{...r,value:s})}return e},Li=e=>new Promise((t,n)=>{e.on("exit",(r,s)=>{t({exitCode:r,signal:s})}),e.on("error",r=>{n(r)}),e.stdin&&e.stdin.on("error",r=>{n(r)})});Qr.exports={mergePromise:$i,getSpawnedPromise:Li}});var rn=f((Yo,tn)=>{"use strict";var _i=/ +/g,Ni=(e,t=[])=>Array.isArray(t)?[e,...t].join(" "):e,Mi=e=>{let t=[];for(let n of e.trim().split(_i)){let r=t[t.length-1];r&&r.endsWith("\\")?t[t.length-1]=`${r.slice(0,-1)} ${n}`:t.push(n)}return t};tn.exports={joinCommand:Ni,parseCommand:Mi}});var ee=f((Qo,W)=>{"use strict";var Bi=h("path"),Ye=h("child_process"),Di=gr(),Wi=yr(),Ui=wr(),Fi=Cr(),ye=qr(),sn=$r(),{spawnedKill:Hi,spawnedCancel:zi,setupTimeout:Ki,setExitHandler:Vi}=Dr(),{handleInput:Xi,getSpawnedResult:Ji,makeAllStream:Zi,validateInputSync:Yi}=Yr(),{mergePromise:nn,getSpawnedPromise:Qi}=en(),{joinCommand:on,parseCommand:an}=rn(),eo=1e3*1e3*100,to=({env:e,extendEnv:t,preferLocal:n,localDir:r,execPath:s})=>{let i=t?{...process.env,...e}:e;return n?Ui.env({env:i,cwd:r,execPath:s}):i},cn=(e,t,n={})=>{let r=Di._parse(e,t,n);return e=r.command,t=r.args,n=r.options,n={maxBuffer:eo,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:n.cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...n},n.env=to(n),n.stdio=sn(n),process.platform==="win32"&&Bi.basename(e,".exe")==="cmd"&&t.unshift("/q"),{file:e,args:t,options:n,parsed:r}},Q=(e,t,n)=>typeof t!="string"&&!Buffer.isBuffer(t)?n===void 0?void 0:"":e.stripFinalNewline?Wi(t):t,xe=(e,t,n)=>{let r=cn(e,t,n),s=on(e,t),i;try{i=Ye.spawn(r.file,r.args,r.options)}catch(p){let g=new Ye.ChildProcess,m=Promise.reject(ye({error:p,stdout:"",stderr:"",all:"",command:s,parsed:r,timedOut:!1,isCanceled:!1,killed:!1}));return nn(g,m)}let o=Qi(i),c=Ki(i,r.options,o),a=Vi(i,r.options,c),u={isCanceled:!1};i.kill=Hi.bind(null,i.kill.bind(i)),i.cancel=zi.bind(null,i,u);let d=Fi(async()=>{let[{error:p,exitCode:g,signal:m,timedOut:v},E,y,x]=await Ji(i,r.options,a),k=Q(r.options,E),S=Q(r.options,y),I=Q(r.options,x);if(p||g!==0||m!==null){let R=ye({error:p,exitCode:g,signal:m,stdout:k,stderr:S,all:I,command:s,parsed:r,timedOut:v,isCanceled:u.isCanceled,killed:i.killed});if(!r.options.reject)return R;throw R}return{command:s,exitCode:0,stdout:k,stderr:S,all:I,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return Xi(i,r.options.input),i.all=Zi(i,r.options),nn(i,d)};W.exports=xe;W.exports.sync=(e,t,n)=>{let r=cn(e,t,n),s=on(e,t);Yi(r.options);let i;try{i=Ye.spawnSync(r.file,r.args,r.options)}catch(a){throw ye({error:a,stdout:"",stderr:"",all:"",command:s,parsed:r,timedOut:!1,isCanceled:!1,killed:!1})}let o=Q(r.options,i.stdout,i.error),c=Q(r.options,i.stderr,i.error);if(i.error||i.status!==0||i.signal!==null){let a=ye({stdout:o,stderr:c,error:i.error,signal:i.signal,exitCode:i.status,command:s,parsed:r,timedOut:i.error&&i.error.code==="ETIMEDOUT",isCanceled:!1,killed:i.signal!==null});if(!r.options.reject)return a;throw a}return{command:s,exitCode:0,stdout:o,stderr:c,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}};W.exports.command=(e,t)=>{let[n,...r]=an(e);return xe(n,r,t)};W.exports.commandSync=(e,t)=>{let[n,...r]=an(e);return xe.sync(n,r,t)};W.exports.node=(e,t,n={})=>{t&&!Array.isArray(t)&&typeof t=="object"&&(n=t,t=[]);let r=sn.node(n),s=process.execArgv.filter(c=>!c.startsWith("--inspect")),{nodePath:i=process.execPath,nodeOptions:o=s}=n;return xe(i,[...o,e,...Array.isArray(t)?t:[]],{...n,stdin:void 0,stdout:void 0,stderr:void 0,stdio:r,shell:!1})}});var vn=f((va,gn)=>{var et=class{constructor(t){this.value=t,this.next=void 0}},tt=class{constructor(){this.clear()}enqueue(t){let n=new et(t);this._head?(this._tail.next=n,this._tail=n):(this._head=n,this._tail=n),this._size++}dequeue(){let t=this._head;if(!!t)return this._head=this._head.next,this._size--,t.value}clear(){this._head=void 0,this._tail=void 0,this._size=0}get size(){return this._size}*[Symbol.iterator](){let t=this._head;for(;t;)yield t.value,t=t.next}};gn.exports=tt});var xn=f((ya,yn)=>{"use strict";var no=vn(),so=e=>{if(!((Number.isInteger(e)||e===1/0)&&e>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up");let t=new no,n=0,r=()=>{n--,t.size>0&&t.dequeue()()},s=async(c,a,...u)=>{n++;let l=(async()=>c(...u))();a(l);try{await l}catch{}r()},i=(c,a,...u)=>{t.enqueue(s.bind(null,c,a,...u)),(async()=>(await Promise.resolve(),n<e&&t.size>0&&t.dequeue()()))()},o=(c,...a)=>new Promise(u=>{i(c,u,...a)});return Object.defineProperties(o,{activeCount:{get:()=>n},pendingCount:{get:()=>t.size},clearQueue:{value:()=>{t.clear()}}}),o};yn.exports=so});var lo={};Dn(lo,{default:()=>uo});var F=h("clipanion");var Qe=O(ce());function Ge(e){return Array.from(new Set(e))}function ls({allWorkspaces:e,dependency:t}){return e.filter(n=>n.workspaceDependencies.includes(t))}function Re({allWorkspaces:e,dependency:t}){let n=new Set;function r({allWorkspaces:s,dependency:i}){if(n.has(i))return[];n.add(i);let o=ls({allWorkspaces:s,dependency:i});return o.length===0?[]:[...o,...o.flatMap(c=>r({allWorkspaces:s,dependency:c.location}))]}return r({allWorkspaces:e,dependency:t})}var un=O(ee()),ro=".";async function te({cwd:e=process.cwd()}={}){let{stdout:t}=await(0,un.default)("yarn",["workspaces","list","--json","--verbose"],{cwd:e});return t.split(`
`).map(n=>JSON.parse(n)).filter(n=>n.location!==ro)}var Se=h("fs"),ln=O(h("path")),dn=h("semver");function we(e){let t=ln.default.resolve(e,"package.json"),n=JSON.parse((0,Se.readFileSync)(t,"utf8"));return{get version(){return n.version},get workspaces(){if(n.workspaces!=null)return Array.isArray(n.workspaces)?n.workspaces:n.workspaces.packages},updateVersion(r){let s=(0,dn.parse)(n.version);s.inc(r),n.version=s.version,(0,Se.writeFileSync)(t,`${JSON.stringify(n,null,2)}
`)}}}function fn({workspaces:e,files:t}){return t.map(n=>e.find(r=>n.startsWith(`${r}/`))).filter(n=>n!=null)}var pn=O(ee());async function mn({from:e,to:t,cwd:n=process.cwd()}){let{stdout:r}=await(0,pn.default)("git",["-c","core.quotepath=false","diff","--name-only",`${e}...${t}`],{cwd:n,shell:!0});return r.split(`
`)}async function U({from:e,to:t,ignore:n="",workspaceDir:r="."}){let s=await te({cwd:r}),i=s.map(u=>u.location),o=i.filter(u=>we(r).workspaces.some(l=>(0,Qe.default)(u,l)&&!(0,Qe.default)(u,n))),c=await mn({from:e,to:t,cwd:r}),a=fn({workspaces:o,files:c});return a.length===0?[]:Ge([...a,...a.flatMap(u=>Re({dependency:u,allWorkspaces:s}).map(l=>l.location))]).filter(u=>i.includes(u))}var re=class extends F.Command{constructor(){super(...arguments);this.from=F.Option.String({required:!0,name:"from"});this.to=F.Option.String({required:!1,name:"to"})}async execute(){let n=this.from,r=this.to??"HEAD",s=await U({from:n,to:r});s.length!==0&&this.context.stdout.write(s.join(`
`))}};re.paths=[["workspaces","since","list"]],re.usage=F.Command.Usage({description:"\uBCC0\uACBD\uC0AC\uD56D\uC774 \uC788\uB294 workspace \uBAA9\uB85D\uC744 \uCD9C\uB825\uD569\uB2C8\uB2E4.",details:"\uBCC0\uACBD\uB41C workspace \uAC00 \uC5C6\uC73C\uBA74 \uC544\uBB34\uAC83\uB3C4 \uCD9C\uB825\uD558\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4.",examples:[["main \uBE0C\uB79C\uCE58\uC640 HEAD \uC0AC\uC774\uC5D0 \uBCC0\uACBD\uC774 \uC788\uB294 workspace \uBAA9\uB85D \uCD9C\uB825","yarn workspaces since list main"],["main \uBE0C\uB79C\uCE58\uC640 ci/main \uD0DC\uADF8 \uC0AC\uC774\uC5D0 \uBCC0\uACBD\uC774 \uC788\uB294 workspace \uBAA9\uB85D \uCD9C\uB825","yarn workspaces since list main ci/main"]]});var hn=re;var wn=O(h("path")),T=h("clipanion"),bn=O(xn()),En=O(ce());var Sn=O(ee());async function rt({workspacePath:e,workspaceName:t,script:n,stdout:r,stderr:s}){let i=n.startsWith("yarn")?n:`yarn ${n}`;try{r.write(`\u{1F4E6}  [${t}] ${i} \uBA85\uB839\uC5B4\uB97C \uC2E4\uD589\uD569\uB2C8\uB2E4.
`);let{stdout:o}=await Sn.default.command(i,{cwd:e,buffer:!0,shell:!0});r.write([`\u2705  [${t}] ${i} \uC2E4\uD589\uC774 \uC644\uB8CC\uB418\uC5C8\uC2B5\uB2C8\uB2E4.`,"----------STDOUT----------",o,`
`].join(`
`))}catch(o){if(!io(o))throw o;if(o.stdout.includes("Couldn't find a script named")){let c=/\"(.*?)\"/.exec(o.stdout)[1];if(i.replace("yarn ","").startsWith(c)){r.write(`\u26A0\uFE0F  [${t}] "${i}" \uBA85\uB839\uC5B4\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4. \uC2E4\uD589\uC744 \uAC74\uB108 \uB701\uB2C8\uB2E4.
`);return}}throw s.write([`\u274C  [${t}] "${i}" \uC2E4\uD589\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.`,"----------STDOUT----------",o.stdout,"----------STDERR----------",o.stderr,`
`].join(`
`)),o}}function io(e){return e.isCanceled!=null}var ne=class extends T.Command{constructor(){super(...arguments);this.command=T.Option.String({required:!0,name:"command"});this.from=T.Option.String({required:!0,name:"from"});this.to=T.Option.String({required:!1,name:"to"});this.jobs=T.Option.String("--jobs",{description:"\uC8FC\uC5B4\uC9C4 \uC22B\uC790\uB9CC\uD07C run\uC744 \uBCD1\uB82C\uC801\uC73C\uB85C \uC2E4\uD589\uD569\uB2C8\uB2E4."});this.include=T.Option.String("--include",{description:"\uBCC0\uACBD\uB41C workspace \uC911 run\uC744 \uC2E4\uD589\uD560 workspace\uB97C glob pattern\uC73C\uB85C \uC9C0\uC815\uD569\uB2C8\uB2E4."});this.ignore=T.Option.String("--ignore",{description:`\uBCC0\uACBD\uC0AC\uD56D\uC774 \uBC1C\uC0DD\uD574\uB3C4 \uBB34\uC2DC\uD560 workspace\uB97C glob pattern\uC73C\uB85C \uC9C0\uC815\uD569\uB2C8\uB2E4.
\uBB34\uC2DC\uB41C workspace\uC758 \uBCC0\uACBD\uC810\uC740 \uD30C\uC0DD\uB418\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4.`});this.ignoreErrors=T.Option.Boolean("--ignore-errors",{description:"run \uC2E4\uD589 \uC911 \uC5D0\uB7EC\uAC00 \uBC1C\uC0DD\uD588\uC744 \uB54C\uC5D0\uB3C4 \uBB34\uC2DC\uD558\uACE0 \uC2E4\uD589\uC744 \uACC4\uC18D\uD569\uB2C8\uB2E4."})}async execute(){let n=this.from,r=this.to??"HEAD",s=this.jobs??"1",i=this.include??"**",o=this.ignore??"",c=this.ignoreErrors??!1,a=(0,bn.default)(Number(s??"1")),u=(await U({from:n,to:r??"HEAD",ignore:o??""})).filter(l=>(0,En.default)(l,i??"**"));if(u.length===0){this.context.stdout.write(`\u2139\uFE0F  \uC5C5\uB370\uC774\uD2B8\uB41C workspace\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4. \uBA85\uB839\uC5B4\uB97C \uC2E4\uD589\uD558\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4.
`);return}this.context.stdout.write(`\u2139\uFE0F  \uC544\uB798 workspace \uB4E4\uC5D0 \uB300\uD574 "${this.command}" \uBA85\uB839\uC5B4\uB97C \uC2E4\uD589\uD569\uB2C8\uB2E4.
---
${u.join(`
`)}
---
`),await Promise.all(u.map(l=>a(async()=>{let d=wn.default.resolve(process.cwd(),l);try{await rt({workspacePath:d,workspaceName:l,script:this.command,stdout:this.context.stdout,stderr:this.context.stderr})}catch{if(this.ignoreErrors??!1)return;process.exit(1)}})))}};ne.paths=[["workspaces","since","run"]],ne.usage=T.Command.Usage({description:`\uBCC0\uACBD\uC810\uC774 \uC788\uB294 workspace\uC5D0 \uB300\uD574\uC11C \uC8FC\uC5B4\uC9C4 \uBA85\uB839\uC5B4\uB97C \uC2E4\uD589\uD569\uB2C8\uB2E4.
\uBCC0\uACBD\uC810\uC740 \uD30C\uC0DD\uB429\uB2C8\uB2E4. "A" workspace\uC5D0 \uC758\uC874\uC131\uC744 \uAC00\uC9C4 "B" workspace\uAC00 \uC788\uC744\uB54C "A", "B" \uBAA8\uB450\uC5D0 \uB300\uD574\uC11C run\uC774 \uC2E4\uD589\uB429\uB2C8\uB2E4.`,details:"\uBCC0\uACBD\uB41C workspace \uAC00 \uC5C6\uC73C\uBA74 \uC544\uBB34\uAC83\uB3C4 \uC2E4\uD589\uD558\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4.",examples:[['main \uBE0C\uB79C\uCE58\uC640 HEAD \uC0AC\uC774\uC5D0 \uBCC0\uACBD\uC774 \uC788\uB294 workspace\uC5D0 \uB300\uD574 "test" \uBA85\uB839\uC5B4 \uC2E4\uD589',"yarn workspaces since run test main"],['main \uBE0C\uB79C\uCE58\uC640 ci/main \uD0DC\uADF8 \uC0AC\uC774\uC5D0 \uBCC0\uACBD\uC774 \uC788\uB294 workspace\uC5D0 \uB300\uD574 "build" \uBA85\uB839\uC5B4 \uC2E4\uD589',"yarn workspaces since run build main ci/main"]]});var kn=ne;var j=h("clipanion");var P={none:"none",patch:"patch",minor:"minor",major:"major"},oo=/(chore|fix|feat|BREAKING CHANGE)\(?([^\).]*)\)?:/;function Pn(e){let t=oo.exec(e);if(t==null)throw new Error(`Invalid commit message: ${e}`);let[,n,r]=t,s=r!==""?r:null;switch(n){case"fix":return{level:P.patch,scope:s};case"feat":return{level:P.minor,scope:s};case"BREAKING CHANGE":return{level:P.major,scope:s};default:return{level:P.none,scope:s}}}var Cn={[P.none]:0,[P.patch]:1,[P.minor]:2,[P.major]:3};function In(e,t){return Cn[e]>Cn[t]?e:t}function Tn(e){return e.reduce((t,n)=>{try{let{scope:r,level:s}=Pn(n);return r==null||(t[r]=In(s,t[r]??P.none)),t}catch(r){if(r.message.includes("Invalid commit message"))return t;throw r}},{})}var Gn=O(ce());var nt=O(ee());async function An(e,t){let[n,r]=await Promise.all([On(e),On(t)]);return ao(n,r)}async function On(e){let{stdout:t}=await(0,nt.default)("git",["rev-parse",e],{cwd:process.cwd(),shell:!0});return t}async function ao(e,t){let n="___SINCE_DELIMITER___",{stdout:r}=await(0,nt.default)("git",["log",`${e}..${t}`,`--pretty=format:"%H${n}%s"`],{cwd:process.cwd(),shell:!0});return r.split(`
`).map(s=>{let[i,o]=s.split(n);return{sha:i,message:o}})}var se=class extends j.Command{constructor(){super(...arguments);this.from=j.Option.String({name:"from",required:!0});this.to=j.Option.String({required:!1,name:"to"});this.include=j.Option.String("--include")}async execute(){let n=this.from,r=this.to??"HEAD",s=this.include??"**",o=(await An(n,r)).flatMap(u=>u.message.split(`
`)).filter(u=>u!==""),c=Object.entries(Tn(o));if(c.length===0){this.context.stdout.write("\uBC84\uC804 \uBCC0\uACBD\uC0AC\uD56D\uC774 \uC5C6\uC2B5\uB2C8\uB2E4.");return}let a=await te();for(let[u,l]of c){if(l===P.none)continue;let d=a.find(({name:E})=>E===u);if(d==null||!(0,Gn.default)(d.location,s))continue;let g=we(d.location),m=g.version;g.updateVersion(l);let v=g.version;this.context.stdout.write(`\u2139\uFE0F  ${u}\uC758 \uBC84\uC804\uC774 \uBCC0\uACBD\uB418\uC5C8\uC2B5\uB2C8\uB2E4: ${m} \u27A1\uFE0F  ${v}
`)}}};se.paths=[["workspaces","since","version"]],se.usage=j.Command.Usage({description:"\uBCC0\uACBD\uB41C \uD328\uD0A4\uC9C0\uC5D0 \uB300\uD574 Semantic Versioning\uC744 \uC790\uB3D9\uC73C\uB85C \uC2E4\uD589\uD569\uB2C8\uB2E4.",details:`
      from\uC73C\uB85C \uBD80\uD130 to\uAE4C\uC9C0 \uBC18\uC601\uB41C \uCEE4\uBC0B\uB4E4\uC744 \uC77D\uC5B4\uB4E4\uC785\uB2C8\uB2E4.
      \uC77D\uC5B4\uB4E4\uC778 \uCEE4\uBC0B \uBA54\uC2DC\uC9C0\uB97C Conventional Commits \uAE30\uC900\uC5D0 \uB530\uB77C \uD574\uC11D\uD558\uACE0 \uC774\uC5D0 \uB530\uB77C \uB2E4\uC74C \uD328\uD0A4\uC9C0 \uBC84\uC804\uC744 \uACB0\uC815\uD569\uB2C8\uB2E4.
    `,examples:[["ci/main \uD0DC\uADF8\uC640 HEAD \uC0AC\uC774\uC5D0 \uC788\uB294 \uCEE4\uBC0B\uC5D0 \uB530\uB77C \uC5C5\uB370\uC774\uD2B8\uB41C \uD328\uD0A4\uC9C0\uB4E4\uC5D0 \uB300\uD574 Semantic Version Bump","yarn workspaces since version ci/main"],['"libraries/*" \uB514\uB809\uD1A0\uB9AC\uC5D0 \uC788\uB294 \uD328\uD0A4\uC9C0\uB4E4\uC5D0 \uB300\uD574\uC11C\uB9CC Version Bump',"yarn workspaces since version origin/main --include='libraries/*'"]]});var Rn=se;var co={commands:[hn,kn,Rn]},uo=co;return Wn(lo);})();
return plugin;
}
};
